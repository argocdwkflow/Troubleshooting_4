Parfait â€” changer le contrÃ´leur disque vers â€œParallelâ€ (LSI Logic Parallel) explique exactement ton kernel panic. VoilÃ  le pourquoi et le comment corriger proprement.
ğŸ¯ Ce qui sâ€™est passÃ©
Tu es passÃ© vers LSI Logic Parallel
â¡ï¸ le driver nâ€™est pas prÃ©sent dans lâ€™initramfs
â¡ï¸ au boot, le kernel ne voit aucun disque
â¡ï¸ unknown-block(0,0) â†’ panic immÃ©diate
ğŸ§  Pourquoi Parallel casse le boot
LSI Parallel = ancien contrÃ´leur
RHEL 7 ne lâ€™intÃ¨gre pas toujours dans lâ€™initramfs
Si lâ€™image a Ã©tÃ© gÃ©nÃ©rÃ©e avec un autre contrÃ´leur (PVSCSI, LSI SAS) â†’ mismatch fatal
ğŸ‘‰ Le disque existe, mais le kernel nâ€™a pas le pilote au boot.
âœ… SOLUTION 1 (RECOMMANDÃ‰E) â€” Revenir Ã  LSI Logic SAS
ğŸ‘‰ Le plus stable sur RHEL 7
Dans VMware :
Controller = LSI Logic SAS
Pas de changement de disque
Puis :
Copy code
Bash
dracut -f
reboot
âœ” Simple
âœ” SupportÃ©
âœ” ZÃ©ro surprise
âš ï¸ SOLUTION 2 â€” Forcer le driver LSI Parallel dans initramfs
Ã€ faire si tu dois absolument rester en Parallel.
1ï¸âƒ£ Boot en rescue (ISO RHEL)
Copy code
Bash
chroot /mnt/sysimage
2ï¸âƒ£ Forcer le driver
Copy code
Bash
echo 'add_drivers+=" mptspi mptscsih "' > /etc/dracut.conf.d/lsi_parallel.conf
3ï¸âƒ£ Rebuild initramfs
Copy code
Bash
dracut -f
4ï¸âƒ£ VÃ©rifier
Copy code
Bash
lsinitrd | grep mpt
5ï¸âƒ£ Reboot
Copy code
Bash
reboot
âŒ Ce quâ€™il ne faut PAS faire
âŒ Changer de contrÃ´leur sans rebuild initramfs
âŒ Mixer Parallel / PVSCSI / SAS Ã  lâ€™aveugle
âŒ Penser que fstab ou systemd sont en cause
ğŸ§¾ Root Cause (formulation ServiceNow / audit)
Root Cause:
The disk controller was changed to LSI Logic Parallel.
The initramfs image did not include the required storage driver, preventing the kernel from detecting the root disk during early boot, resulting in VFS: Unable to mount root fs on unknown-block(0,0).
ğŸ Verdict terrain
ğŸ‘‰ LSI Logic Parallel est une trÃ¨s mauvaise idÃ©e en 2026
â¡ï¸ LSI Logic SAS (ou PVSCSI) + initramfs Ã  jour = boot garanti
Si tu veux, je peux :
te dire quel contrÃ´leur choisir selon RHEL 7 / 8 / 9
te donner la procÃ©dure safe de changement de contrÃ´leur
prÃ©parer un plan prÃ©ventif template VMware
Dis-moi ğŸ‘