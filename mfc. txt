
ğŸ‡«ğŸ‡· RÃ©sumÃ© en franÃ§ais
Date / heure de lâ€™incident : 24 janvier Ã  16h20
Lâ€™incident a Ã©tÃ© dÃ©clenchÃ© par une saturation du pool de threads du composant Micro Focus Communications Server (mfcs32).
Ã€ lâ€™heure de lâ€™Ã©vÃ©nement, plusieurs rÃ©gions Enterprise Server Ã©taient actives simultanÃ©ment et des traitements applicatifs (notamment batch/JCL) Ã©taient en cours, entraÃ®nant une augmentation significative de la concurrence et de la latence dâ€™exÃ©cution des threads.
Lorsque le seuil de latence configurÃ© a Ã©tÃ© dÃ©passÃ©, le Thread Manager Micro Focus a tentÃ© de crÃ©er des threads temporaires supplÃ©mentaires, mais cette tentative a Ã©chouÃ© en raison de lâ€™atteinte de la limite du pool de threads.
Aucun dÃ©faut matÃ©riel, systÃ¨me Linux ou kernel nâ€™a Ã©tÃ© identifiÃ©.
Une vÃ©rification des limites systÃ¨me (ulimit) est nÃ©cessaire afin de garantir que le systÃ¨me dâ€™exploitation ne restreint pas la crÃ©ation de threads. Toutefois, dans un environnement gÃ©rÃ© par systemd, la limite TasksMax et les paramÃ¨tres de service ont une prioritÃ© supÃ©rieure et doivent impÃ©rativement Ãªtre alignÃ©s avec la charge applicative.
La cause racine de lâ€™incident est donc une configuration insuffisante du pool de threads Micro Focus, aggravÃ©e par un pic de charge applicative, et potentiellement par des limites systemd / ulimit non adaptÃ©es.
Actions correctives recommandÃ©es
Augmenter la limite du pool de threads cÃ´tÃ© Micro Focus Communications Server.
VÃ©rifier et ajuster les paramÃ¨tres systemd (TasksMax, LimitNPROC, LimitNOFILE).
VÃ©rifier et aligner les limites ulimit pour lâ€™utilisateur Micro Focus.
Surveiller le nombre de threads et lisser les traitements batch afin dâ€™Ã©viter les pics simultanÃ©s.
ğŸ‡¬ğŸ‡§ Global summary in English
Incident date / time: January 24th at 16:20
The incident was triggered by a thread pool saturation on the Micro Focus Communications Server component (mfcs32).
At the time of the event, multiple Enterprise Server regions were running concurrently while application workloads (notably batch/JCL processing) were executing, resulting in increased concurrency and thread execution latency.
When the configured latency threshold was exceeded, the Micro Focus Thread Manager attempted to create additional temporary threads, but this operation failed due to the configured thread pool limit being reached.
No Linux OS, kernel, or hardware failure was identified during the analysis.
A review of the system limits (ulimit) is required to ensure that the operating system does not restrict thread creation. However, in a systemd-managed environment, the TasksMax setting and service-level limits take precedence and must be properly aligned with the application workload.
The root cause of the incident is therefore an undersized Micro Focus thread pool configuration, exacerbated by an application workload peak, and potentially reinforced by systemd and ulimit limits that were not adequately sized.
Recommended corrective actions
Increase the Micro Focus Communications Server thread pool limits.
Review and adjust systemd service limits (TasksMax, LimitNPROC, LimitNOFILE).
Verify and align ulimit settings for the Micro Focus runtime user.
Monitor thread consumption and smooth batch execution to prevent concurrent workload spikes.
